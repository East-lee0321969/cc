"use strict";define(["jcookie"],function(){return{init:function(){function o(){if($.cookie("cookiesid")&&$.cookie("cookienum")){var o=$.cookie("cookiesid").split(","),e=$.cookie("cookienum").split(",");$.each(o,function(n,t){i(o[n],e[n])})}}function i(o,i){$.ajax({url:"http://localhost:8080/dashboard/php.cn/html/day29-day31/projectname/php/listdata.php",dataType:"json"}).done(function(e){console.log(e),$.each(e,function(e,n){if(o===n.sid){var t=$(".goods-item:hidden").clone(!0,!0);t.find(".goods-pic img").attr("src",n.url),t.find(".goods-d-info a").html(n.title),t.find(".b-price strong").html(n.price),t.find(".quantity-form input").val(i),t.find(".b-sum strong").html((n.price*i).toFixed(2)),t.css("display","block"),$(".item-list").append(t)}})})}o()}}});var cookie={set:function(o,i,e){var n=new Date;n.setDate(n.getDate()+e),document.cookie=o+"="+encodeURIComponent(i)+";path=/;expires="+n},get:function(o){var i=decodeURIComponent(document.cookie).split("; "),e=!0,n=!1,t=void 0;try{for(var a,c=i[Symbol.iterator]();!(e=(a=c.next()).done);e=!0){var r=a.value,l=r.split("=");if(l[0]===o)return l[1]}}catch(o){n=!0,t=o}finally{try{!e&&c.return&&c.return()}finally{if(n)throw t}}},remove:function(o){cookie.set(o,"",-1)}};define(["jcookie"],function(){return{init:function(){function o(){$.cookie("cookiesid")&&$.cookie("cookienum")&&(e=$.cookie("cookiesid").split(","),n=$.cookie("cookienum").split(","))}var i=location.search.substring(1).split("=")[1];i||(i=1),$.ajax({url:"http://localhost:8080/dashboard/php.cn/html/day29-day31/projectname/php/detail.php",data:{sid:i},dataType:"json"}).done(function(o){$("#smallpic").attr("src",o.url),$(".loadtitle").html(o.title),$(".loadpcp").html(o.price);var i=o.urls.split(","),e="",n=$("#list");console.log(i),$.each(i,function(o,i){e+='\n                <li>\n                    <img src="'+i+'"/>\n                </li>\n            '}),n.html(e)});var e=[],n=[];$(".p-btn a").on("click",function(){if(o(),-1===$.inArray(i,e))e.push(i),$.cookie("cookiesid",e,{expires:10,pash:"/"}),n.push($("#count").val()),$.cookie("cookienum",n,{expires:10,pash:"/"});else{var t=$.inArray(i,e);n[t]=parseInt(n[t])+parseInt($("#count").val()),$.cookie("cookienum",n,{expires:10,pash:"/"})}alert("按钮被点击了")})}}}),define([],function(){return{init:function(){var o=$(".menu li"),i=$(".cartlist"),e=$(".item");o.hover(function(){i.show(),$(this).addClass("active").siblings("li").removeClass("active"),e.eq($(this).index()).show().siblings(".item").hide();var o=$(window).scrollTop(),n=$(".banner").offset().top;o>n?i.css({top:o-n}):i.css({top:0})},function(){i.hide()}),i.hover(function(){$(this).show()},function(){$(this).hide()}),localStorage.getItem("loginname")&&($(".admin").show(),$(".login").hide(),$(".admin span").html(localStorage.getItem("loginname"))),$(".admin a").on("click",function(){$(".admin").hide(),$(".login").show(),localStorage.removeItem("loginname")})}}}),define([],function(){return{init:function(){var o=$(".list ul");$.ajax({url:"http://localhost:8080/dashboard/php.cn/html/day29-day31/projectname/php/listdata.php",dataType:"json"}).done(function(i){var e="";$.each(i,function(o,i){e+='\n                <li>\n                    <a href="detail.html?sid='+i.sid+'">\n                        <img src="'+i.url+'"/>\n                        <p>'+i.title+"</p>\n                        <span>￥"+i.price+"</span>\n                    </a>\n                </li>\n            "}),o.html(e)})}}}),require.config({baseUrl:"",paths:{jquery:"https://cdn.bootcdn.net/ajax/libs/jquery/1.12.4/jquery.min",jlazyload:"https://cdn.bootcdn.net/ajax/libs/jquery.lazyload/1.9.1/jquery.lazyload.min",jcookie:"https://cdn.bootcdn.net/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min"},shim:{jlazyload:{deps:["jquery"],exports:["jquery_lazyload"]},jcookie:{deps:["jquery"],exports:["jquery_cookie"]}}}),require(["jquery"],function(){console.log($);var o=$("#currentpage").attr("data-orign");require([o],function(o){o.init()})});